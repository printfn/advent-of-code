let input = [
'.#..#..##.#...###.#............#.'.split(''),
'.....#..........##..#..#####.#..#'.split(''),
'#....#...#..#.......#...........#'.split(''),
'.#....#....#....#.#...#.#.#.#....'.split(''),
'..#..#.....#.......###.#.#.##....'.split(''),
'...#.##.###..#....#........#..#.#'.split(''),
'..#.##..#.#.#...##..........#...#'.split(''),
'..#..#.......................#..#'.split(''),
'...#..#.#...##.#...#.#..#.#......'.split(''),
'......#......#.....#.............'.split(''),
'.###..#.#..#...#..#.#.......##..#'.split(''),
'.#...#.................###......#'.split(''),
'#.#.......#..####.#..##.###.....#'.split(''),
'.#.#..#.#...##.#.#..#..##.#.#.#..'.split(''),
'##...#....#...#....##....#.#....#'.split(''),
'......#..#......#.#.....##..#.#..'.split(''),
'##.###.....#.#.###.#..#..#..###..'.split(''),
'#...........#.#..#..#..#....#....'.split(''),
'..........#.#.#..#.###...#.....#.'.split(''),
'...#.###........##..#..##........'.split(''),
'.###.....#.#.###...##.........#..'.split(''),
'#.#...##.....#.#.........#..#.###'.split(''),
'..##..##........#........#......#'.split(''),
'..####......#...#..........#.#...'.split(''),
'......##...##.#........#...##.##.'.split(''),
'.#..###...#.......#........#....#'.split(''),
'...##...#..#...#..#..#.#.#...#...'.split(''),
'....#......#.#............##.....'.split(''),
'#......####...#.....#...#......#.'.split(''),
'...#............#...#..#.#.#..#.#'.split(''),
'.#...#....###.####....#.#........'.split(''),
'#.#...##...#.##...#....#.#..##.#.'.split(''),
'.#....#.###..#..##.#.##...#.#..##'.split(''),
];

// input = [
// '.#..##.###...#######'.split(''),
// '##.############..##.'.split(''),
// '.#.######.########.#'.split(''),
// '.###.#######.####.#.'.split(''),
// '#####.##.#.##.###.##'.split(''),
// '..#####..#.#########'.split(''),
// '####################'.split(''),
// '#.####....###.#.#.##'.split(''),
// '##.#################'.split(''),
// '#####.##.###..####..'.split(''),
// '..######..##.#######'.split(''),
// '####.##.####...##..#'.split(''),
// '.#####..#.######.###'.split(''),
// '##...#.##########...'.split(''),
// '#.##########.#######'.split(''),
// '.####.#.###.###.#.##'.split(''),
// '....##.##.###..#####'.split(''),
// '.#.#.###########.###'.split(''),
// '#.#.#.#####.####.###'.split(''),
// '###.##.####.##.#..##'.split(''),
// ]

function visible(x1, y1, x2, y2) {
    let dx = x2 - x1;
    let dy = y2 - y1;
    if (dx == 0) {
        dy = Math.sign(dy);
    } else if (dy == 0) {
        dx = Math.sign(dx);
    } else {
        for (let i = 2; i < 100; ++i) {
            while (dx % i == 0 && dy % i == 0) {
                dx /= i;
                dy /= i;
            }
        }
    }
    for (let x = x1 + dx, y = y1 + dy; x != x2 || y != y2; x += dx, y += dy) {
        if (input[x][y] == '#') {
            return false;
        }
    }
    return true;
}

let max = 0;
let sx = 0, sy = 0;
for (let x1 = 0; x1 < input.length; ++x1) {
    for (let y1 = 0; y1 < input[0].length; ++y1) {
        let count = 0;
        if (input[x1][y1] == '.') continue;
        for (let x2 = 0; x2 < input.length; ++x2) {
            for (let y2 = 0; y2 < input[0].length; ++y2) {
                if (input[x2][y2] == '.') continue;
                if (x1 == x2 && y1 == y2) continue;
                if (visible(x1, y1, x2, y2)) {
                    ++count;
                }
            }
        }
        if (count > max) {
            max = count;
            sx = x1;
            sy = y1;
        }
    }
}
console.log(max);

// sweep
let finalorder = [];
let candidates = [];
for (let x2 = 0; x2 < input.length; ++x2) {
    for (let y2 = 0; y2 < input[0].length; ++y2) {
        if (input[x2][y2] == '.') continue;
        if (sx == x2 && sy == y2) continue;
        if (visible(sx, sy, x2, y2)) {
            candidates.push({x: x2, y: y2, t: Math.atan2(y2 - sy, x2 - sx)});
        }
    }
}
candidates.sort((a, b) => a.t - b.t);
for (let i = candidates.length - 1; i >= 0; --i) {
    finalorder.push(candidates[i]);
}
console.log(finalorder[199].y * 100 + finalorder[199].x);
